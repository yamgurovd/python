# Упаковка кортежей

## Упаковкой кортежа называют присваивание его какой-либо переменной.

Приведенный ниже код:

```python
tuple1 = (1, 2, 3)
tuple2 = ('b',)
tuple3 = ('red', 'green', 'blue', 'cyan')

print(type(tuple1))
print(type(tuple2))
print(type(tuple3))
```

выводит:

```html

<class 'tuple'>
<class 'tuple'>
<class 'tuple'>
```

!["PostgreSQL"](/stepic/middle/4%20tuple/6_3/image1.png)

Обратите внимание на то, что упаковка выполняется всегда, когда справа от знака равенства стоит больше одного значения.

Приведенный ниже код автоматически запакует `1, 2, 3 и 'b'`, в кортежи `(1, 2, 3) и ('b', )` и присвоит их значения
переменным tuple1 и tuple2:

```html
tuple1 = 1, 2, 3
tuple2 = 'b',

print(type(tuple1))
print(type(tuple2))
```

выводит:

```html

<class 'tuple'>
<class 'tuple'>
```

Распаковка кортежей
Обратная операция, смысл которой в том, чтобы присвоить значения элементов кортежа отдельным переменным, называется
распаковкой кортежа.

Приведенный ниже код:

```python
colors = ('red', 'green', 'blue', 'cyan')

(a, b, c, d) = colors

print(a)
print(b)
print(c)
print(d)
```

выводит:

```html
red
green
blue
cyan
```

В приведенном примере кортеж colors распаковывается в переменные `a, b, c, d`.
!["PostgreSQL"](/stepic/middle/4%20tuple/6_3/image2.png)
Мы можем опустить скобки слева от знака равенства:

```python
colors = ('red', 'green', 'blue', 'cyan')
a, b, c, d = colors
```

Количество переменных должно совпадать с числом элементов в кортеже.

Приведенный ниже код:

```python
colors = ('red', 'green', 'blue', 'cyan')
a, b = colors
```

приводит к ошибке:

```html
ValueError: too many values to unpack
```

Аналогично, приведенный ниже код:

```python
colors = ('red', 'green', 'blue')
a, b, c, d = colors
```

приводит к ошибке:

```html
ValueError: not enough values to unpack (expected 4, got 3)
```

Однако, если необходимо получить лишь какие-то отдельные значения, то в качестве "`ненужных`" переменных позволено
использовать символ нижнего подчеркивания` _.`

Приведенный ниже код:

```python
colors = ('red', 'green', 'blue')
a, b, _ = colors

print(a)
print(b)
```

выводит:

```html
red
green
```

Распаковка кортежей очень удобна на практике. По сути мы использовали ее, когда меняли местами значения двух переменных
без использования временных переменных.

Приведенный ниже код:

```python
a = 7
b = 17
a, b = b, a

print(a, b)
```

выводит:

```html
17 7
```

Сначала вычисляются все значения справа, и лишь затем они кладутся в левую часть оператора присваивания. Поэтому можно
менять местами значения переменных `a и b`, написав: `a, b = b, a`.

Приведенный ниже код:

```python
a, b, c = 3, 2, 1
b, a, c = c, a, b

print(b, c, a)
```

выводит:

```html
1 2 3
```

## *  при распаковке кортежей
  Как мы знаем, если при распаковке кортежа число элементов слева и справа не совпадает, то возникает ошибка времени
  исполнения. Есть способ собрать сразу несколько значений в одну переменную. Это делается при помощи звездочки перед
  именем переменной.

Рассмотрим программный код:

```python
a, b, *tail = 1, 2, 3, 4, 5, 6
```

В этом случае в переменной a будет записана единица, в переменной b — двойка, а в переменной tail — список, состоящий из
всех аргументов, которые не попали в предыдущие переменные. В данном случае tail будет равен `[3, 4, 5, 6]`.

Учтите, что `tail` всегда будет списком, даже когда в него попадает лишь один элемент или даже ноль.

Приведенный ниже код:

```python
a, b, *tail = 1, 2, 3

print(tail)
```

выводит:

```html
[3]
```

Приведенный ниже код:

```python
a, b, *tail = 1, 2

print(tail)
```

выводит:

```html
[]
```

Звездочка может быть только у одного аргумента, но необязательно у последнего.

Приведенный ниже код:

```python
*names, surname = ('Стефани', 'Джоанн', 'Анджелина', 'Джерманотта')

print(names)
print(surname)
```

выводит:

```html
['Стефани', 'Джоанн', 'Анджелина']
```

Джерманотта
Аргумент со звездочкой может стоять и посередине.

```python
singer = ('Freddie', 'Bohemian Rhapsody', 'Killer Queen', 'Love of my life', 'Mercury')

name, *songs, surname = singer

print(name)
print(songs)
print(surname)
```

выводит:

```html
Freddie
['Bohemian Rhapsody', 'Killer Queen', 'Love of my life']
Mercury
```

## Примечания
`Примечание 1`. Если вы хотите распаковать единственное значение в кортеже, после имени переменной должна идти запятая.

Приведенный ниже код:

```python
a = 1,  # не распаковка, а просто присвоение
b, = 1,  # распаковка

print(a)
print(b)
```

выводит:

```html
(1,)
1
```

`Примечание 2`. Распаковывать можно не только кортеж, правая сторона может быть любой последовательностью (кортеж, строка
или список).

```python
info = ['timur', 'beegeek.org']
user, domain = info  # распаковка списка

print(user)
print(domain)

a, b, c, d = 'math'  # распаковка строки

print(a)
print(b)
print(c)
print(d)
```

выводит:

```html
timur
beegeek.org
m
a
t
h
```

`Примечание 3`. Помимо метода `split()` строковый тип данных содержит метод `partition()`. Метод `partition()` принимает на вход
один аргумент sep, разделяет строку при первом появлении sep и возвращает кортеж, состоящий из трех элементов: часть
перед разделителем, сам разделитель и часть после разделителя. Если разделитель не найден, то кортеж содержит саму
строку, за которой следуют две пустые строки.

Приведенный ниже код:

```python
s1 = 'abc-de'.partition('-')
s2 = 'abc-de'.partition('.')
s3 = 'abc-de-fgh'.partition('-')

print(s1)
print(s2)
print(s3)
выведет:

('abc', '-', 'de')
('abc-de', '', '')
('abc', '-', 'de-fgh')
```

`Примечание 4`. С использованием кортежей многие алгоритмы приобретают достаточно краткую форму. Например, вычисление
чисел Фибоначчи может выглядеть следующим образом:

```python
n = int(input())
f1, f2 = 1, 1
for i in range(n):
    print(f1)
    f1, f2 = f2, f1 + f2
```

`Примечание 5`. Замечательная серия статей о коллекциях (`list, tuple, str, set, dict)` в Python.

