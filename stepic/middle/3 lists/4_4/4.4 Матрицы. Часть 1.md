# Тема урока: матрицы

1. Работа с матрицами
2. Квадратные и прямоугольные матрицы
3. Методы ljust() и rjust()
4. Главная и побочная диагонали

`Аннотация`. Урок посвящен работе с матрицами — прямоугольными таблицами.

## Матрицы

В прошлых уроках мы изучили вложенные списки, то есть списки, входящие в качестве элементов в другие списки. Частный
случай вложенных списков — `матрицы`. Это прямоугольные таблицы, заполненные какими-то значениями, обычно числами.
!["Dbeaver"](/stepic/middle/3%20lists/4_4/image1.png)

Давайте заведем матрицу размера `3×4` (3 строки и 4 столбца), содержащую числа, и получим элемент на позиции (`2, 3`),
то
есть элемент второй строки в третьем столбце.

```python
matrix = [[2, -5, -11, 0],
          [-9, 4, 6, 13],
          [4, 7, 12, -2]]

print(matrix[1][2])  # вывод элемента на позиции (2, 3)
```

!["Dbeaver"](/stepic/middle/3%20lists/4_4/image2.png)

## Перебор элементов матрицы

Чтобы перебрать элементы матрицы, необходимо использовать вложенные циклы. Например, выведем на экран все элементы
матрицы, перебирая их по строкам:

```python
rows, cols = 3, 4  # rows - количество строк, cols - количество столбцов

matrix = [[2, 3, 1, 0],
          [9, 4, 6, 8],
          [4, 7, 2, 7]]

for r in range(rows):
    for c in range(cols):
        print(matrix[r][c], end=' ')
    print()
```

Результатом работы такого кода будет:

```html
2 3 1 0
9 4 6 8
4 7 2 7 
```

Для перебора элементов матрицы по столбцам можно использовать следующий код:

```python
rows, cols = 3, 4  # rows - количество строк, cols - количество столбцов

matrix = [[2, 3, 1, 0],
          [9, 4, 6, 8],
          [4, 7, 2, 7]]

for c in range(cols):
    for r in range(rows):
        print(matrix[r][c], end=' ')
    print()
```

Результатом работы такого кода будет:

```html
2 9 4
3 4 7
1 6 2
0 8 7
```

## Методы `ljust() и rjust()`

Рассмотрим программный код:

```python
rows, cols = 3, 4  # rows - количество строк, cols - количество столбцов

matrix = [[277, -930, 11, 0],
          [9, 43, 6, 87],
          [4456, 8, 290, 7]]

for r in range(rows):
    for c in range(cols):
        print(matrix[r][c], end=' ')
    print()
```

Результатом работы такого кода будет:

```html
277 -930 11 0
9 43 6 87
4456 8 290 7 
```

Выведенная матрица не сильно похожа на упорядоченный прямоугольник. Элементы матрицы имеют разное количество разрядов и
результат вывода получается смазанным. Для решения проблемы удобно использовать строковые методы ljust() и rjust().

## Метод `ljust()`

Строковый метод `ljust()` выравнивает текст по ширине, добавляя пробелы в конец текста.

Результатом выполнения следующего кода:

```python
print('a'.ljust(3))
print('ab'.ljust(3))
print('abc'.ljust(3))
```

будет:

```html
a⎵⎵
ab⎵
abc
```

Исходная строка не обрезается, даже если в ней больше символов, чем нужно.

Результатом выполнения следующего кода:

```python
print('abcdefg'.ljust(3))
```

будет:

```html
abcdefg
```

Строковый метод `ljust()` использует вместо пробела другой символ, если передать ему второй аргумент, необязательный.

Результатом выполнения следующего кода:

```python
print('a'.ljust(5, '*'))
print('ab'.ljust(5, '$'))
print('abc'.ljust(5, '#'))
```

будет:

```html
a****
ab$$$
abc##
```

## Метод `rjust()`

Строковый метод `rjust()` выравнивает текст по ширине, добавляя пробелы в начало текста.

Результатом выполнения следующего кода:

```python
print('a'.rjust(3))
print('ab'.rjust(3))
print('abc'.rjust(3))
```

будет:

```html
⎵⎵a
⎵ab
abc
```

Исходная строка не обрезается, даже если в ней больше символов, чем нужно.

Результатом выполнения следующего кода:

```python
print('abcdefg'.rjust(3))
```

будет:

```html
abcdefg
```

Строковый метод `rjust()` использует вместо пробела другой символ, если передать ему второй аргумент, необязательный.

Результатом выполнения следующего кода:

```python
print('a'.rjust(5, '*'))
print('ab'.rjust(5, '$'))
print('abc'.rjust(5, '#'))
```

будет:

```html
****a
$$$ab
##abc
```

Применив метод `ljust()` для выравнивания столбцов, при выводе таблицы мы получим следующий код:

```python
rows, cols = 3, 4  # rows - количество строк, cols - количество столбцов

matrix = [[277, -930, 11, 0],
          [9, 43, 6, 87],
          [4456, 8, 290, 7]]

for r in range(rows):
    for c in range(cols):
        print(str(matrix[r][c]).ljust(6), end='')
    print()
```

Результатом выполнения такого кода будет:

```html
277   -930  11    0
9     43    6     87
4456  8     290   7  
```   

## Квадратные матрицы

Матрица с одинаковым количеством строк и столбцов называется квадратной. У квадратной матрицы есть две диагонали:

- главная: проходит из верхнего левого в правый нижний угол матрицы;
- побочная: проходит из нижнего левого в правый верхний угол матрицы.

!["Dbeaver"](/stepic/middle/3%20lists/4_4/image3.png)

Результатом выполнения следующего кода:

```python
n = 8
matrix = [[0] * n for _ in range(n)]  # создаем квадратную матрицу размером 8×8

for i in range(n):  # заполняем главную диагональ единицами, а побочную двойками
    matrix[i][i] = 1
    matrix[i][n - i - 1] = 2

for r in range(n):  # выводим матрицу
    for c in range(n):
        print(matrix[r][c], end=' ')
    print()
```

будет:

```html
1 0 0 0 0 0 0 2
0 1 0 0 0 0 2 0
0 0 1 0 0 2 0 0
0 0 0 1 2 0 0 0
0 0 0 2 1 0 0 0
0 0 2 0 0 1 0 0
0 2 0 0 0 0 1 0
2 0 0 0 0 0 0 1 
```

Индексы `i и j элементов` на главной диагонали связаны соотношением `i = j`. Индексы `i и j элементов` на побочной
диагонали
связаны соотношением `i + j + 1 = n (или j = n - i - 1)`, где `n — размерность матрицы`.

Заметим также, что:

- если элемент находится выше главной диагонали, то `i < j`, если ниже - `i > j`.
- если элемент находится выше побочной диагонали, то `i + j + 1 < n`, если ниже - `i + j + 1 > n`.

## Примечания

`Примечание 1`. Чтобы понять, в какой области лежит элемент можно воспользоваться следующей картинкой.
!["Dbeaver"](/stepic/middle/3%20lists/4_4/image4.png)

`Примечание 2`. Используйте функцию print_matrix() для вывода квадратной матрицы размерности n:

```python
def print_matrix(matrix, n, width=1):
    for r in range(n):
        for c in range(n):
            print(str(matrix[r][c]).ljust(width), end=' ')
        print()
```

`Примечание 3`. Для считывания матрицы из n строк, заполненной числами, удобно использовать следующий код:

````python
n = int(input())
matrix = []
for i in range(n):
    temp = [int(num) for num in input().split()]
    matrix.append(temp)
````